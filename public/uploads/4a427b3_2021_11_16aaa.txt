delimiter $$
CREATE PROCEDURE exemplo_cursor211()
	BEGIN
     DECLARE z, vcod INT;
     DECLARE vnome, vcidade VARCHAR(60);
     DECLARE sp_cursor1 CURSOR
			FOR SELECT codigo, nome, cidade FROM cliente;
	 DECLARE CONTINUE HANDLER FOR NOT FOUND SET z = 1;
	 OPEN sp_cursor1;
      REPEAT
		FETCH sp_cursor1 INTO vcod, vnome, vcidade;
        if (vcidade = "Pirapozinho") then
           insert into cliente1 (codigo, nome, cidade) values (vcod, vnome, vcidade);
		end if;
	 UNTIL (z=1)
	 END REPEAT;
	 CLOSE sp_cursor1;
	END $$